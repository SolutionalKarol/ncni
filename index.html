<!-- ZESPÓŁ (NOWA WERSJA) -->
<section id="team" class="section-muted">
  <div class="container">
    <h2>Nasz zespół</h2>
    <p class="muted">Struktura i odpowiedzialności w NCNI. Kliknij osobę, aby zobaczyć rozszerzony profil.</p>

    <div class="grid cards-3" style="margin-top:16px">
      <!-- SEBASTIAN -->
      <article class="card team-card"
               data-name="dr inż. Sebastian Kraszewski"
               data-role="Dyrektor Naukowy • R&D, Metodologia, Neurofeedback/VR/AI"
               data-bio="
               Odpowiada za kierunek merytoryczny NCNI: projektowanie protokołów (EEG/HRV, VR),
               walidację metod, wskaźniki efektów i ewaluację. Łączy laboratoria akademickie z wdrożeniami
               dla szkół i firm. W NCNI prowadzi: architekturę programów, przeglądy merytoryczne, superwizję
               trenerów i mentoring dla praktyków. Obszary: regulacja uwagi i stresu, fokus, ekspozycja VR,
               etyka i bezpieczeństwo w użyciu bio-tech.
               "
               data-tags="R&D, metodologia, biofeedback, VR, AI">
        <div class="card-head">
          <div class="avatar">SK</div>
          <div>
            <h3 class="team-name">dr inż. Sebastian Kraszewski</h3>
            <div class="team-role muted">Dyrektor Naukowy • R&D, Metodologia, Neurofeedback/VR/AI</div>
          </div>
        </div>
        <p class="muted">Projektuje i nadzoruje merytorykę NCNI: protokoły, metryki i jakość wdrożeń.</p>
        <button class="btn ghost team-more">Pokaż profil</button>
      </article>

      <!-- MARLENA -->
      <article class="card team-card"
               data-name="dr inż. Marlena Gąsior-Głogowska"
               data-role="Dyrektor Edukacji i Etyki • Programy szkoleniowe, ND w edukacji/HR"
               data-bio="
               Prowadzi dydaktykę i rozwój programów dla szkół, samorządów i firm. Specjalizacja:
               neuroróżnorodność w praktyce (ND-affirming), komunikacja i adaptacje, bezpieczeństwo i etyka AI.
               W NCNI odpowiada za design kursów (on-site/online/VR), przygotowanie trenerów, hospitacje zajęć,
               ewaluację rezultatów i materiały wdrożeniowe (toolkity, checklisty).
               "
               data-tags="edukacja, etyka AI, ND-affirming, wdrożenia">
        <div class="card-head">
          <div class="avatar">MG</div>
          <div>
            <h3 class="team-name">dr inż. Marlena Gąsior-Głogowska</h3>
            <div class="team-role muted">Dyrektor Edukacji i Etyki • Programy szkoleniowe, ND w edukacji/HR</div>
          </div>
        </div>
        <p class="muted">Projektuje i wdraża programy szkoleniowe, dba o etykę i bezpieczeństwo.</p>
        <button class="btn ghost team-more">Pokaż profil</button>
      </article>

      <!-- KAROL -->
      <article class="card team-card"
               data-name="Karol Kiszło"
               data-role="Strategia, PR & Partnerstwa • E-commerce/AI, komunikacja, rozwój produktu"
               data-bio="
               20+ lat w e-commerce i marketingu (USA/UE). Absolwent Loyola University Chicago (PR & Advertising)
               i Triton College (Mass Communication). Łączy innowacje (AI/automatyzacja) z rynkiem i sprzedażą.
               W NCNI odpowiada za: strategię PR/marketing, ofertę produktową, partnerstwa i coaching sprzedażowy.
               Doświadczenie eventowo-marketingowe w USA (m.in. projekty związane z WWE — World Wrestling
               Entertainment) oraz moderacja treści/strategii edukacyjnych (Pearson).
               "
               data-tags="strategia, PR/marketing, e-commerce, partnerstwa">
        <div class="card-head">
          <div class="avatar">KK</div>
          <div>
            <h3 class="team-name">Karol Kiszło</h3>
            <div class="team-role muted">Strategia, PR & Partnerstwa • E-commerce/AI, komunikacja, rozwój produktu</div>
          </div>
        </div>
        <p class="muted">Spina naukę z rynkiem: produkt, komunikacja i partnerstwa. Coaching sprzedażowy.</p>
        <button class="btn ghost team-more">Pokaż profil</button>
      </article>
    </div>
  </div>

  <!-- MODAL: EXTENDED BIO -->
  <div id="team-modal" class="team-modal" aria-hidden="true">
    <div class="team-modal__backdrop"></div>
    <div class="team-modal__dialog" role="dialog" aria-modal="true" aria-labelledby="team-modal-title">
      <button class="team-modal__close" aria-label="Zamknij">&times;</button>
      <h3 id="team-modal-title"></h3>
      <div class="muted" id="team-modal-role" style="margin-top:-4px"></div>
      <p id="team-modal-bio" style="margin-top:10px"></p>
      <div id="team-modal-tags" class="team-tags"></div>
    </div>
  </div>
</section>

<style>
  /* delikatne dopalenie wyglądu kart i modala */
  .team-card .card-head{display:flex;align-items:center;gap:12px;margin-bottom:6px}
  .team-name{margin:0}
  .team-role{font-size:14px}
  .team-tags{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .team-tags .chip{font-size:12px;border:1px solid var(--line);padding:6px 10px;border-radius:999px;background:#fff;color:var(--muted)}

  .team-modal{position:fixed;inset:0;display:none}
  .team-modal.is-open{display:block}
  .team-modal__backdrop{position:absolute;inset:0;background:rgba(15,23,42,.55);backdrop-filter:blur(2px)}
  .team-modal__dialog{
    position:relative;z-index:2;max-width:720px;margin:8vh auto;background:#fff;
    border:1px solid var(--line);border-radius:16px;box-shadow:0 20px 60px rgba(2,6,23,.25);
    padding:20px
  }
  .team-modal__close{
    position:absolute;top:8px;right:10px;border:0;background:transparent;font-size:28px;line-height:1;cursor:pointer
  }
  @media (max-width:639px){ .team-modal__dialog{margin:4vh 12px;padding:16px} }
</style>

<script>
  // modal open/close + dynamic fill
  (function(){
    const modal = document.getElementById('team-modal');
    const title = document.getElementById('team-modal-title');
    const role  = document.getElementById('team-modal-role');
    const bio   = document.getElementById('team-modal-bio');
    const tags  = document.getElementById('team-modal-tags');

    function openModal(card){
      title.textContent = card.dataset.name || '';
      role.textContent  = card.dataset.role || '';
      bio.textContent   = (card.dataset.bio || '').replace(/\s+/g,' ').trim();
      tags.innerHTML    = '';
      (card.dataset.tags || '').split(',').map(t => t.trim()).filter(Boolean).forEach(t=>{
        const span = document.createElement('span');
        span.className = 'chip';
        span.textContent = t;
        tags.appendChild(span);
      });
      modal.classList.add('is-open');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
    }
    function closeModal(){
      modal.classList.remove('is-open');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
    }

    document.querySelectorAll('.team-card .team-more').forEach(btn=>{
      btn.addEventListener('click', e=>{
        const card = e.currentTarget.closest('.team-card');
        openModal(card);
      });
    });

    modal.querySelector('.team-modal__backdrop').addEventListener('click', closeModal);
    modal.querySelector('.team-modal__close').addEventListener('click', closeModal);
    document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeModal(); });
  })();
</script>
